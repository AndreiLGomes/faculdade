// Certifique-se de que COLDIGO existe e defina o objeto marca
var COLDIGO = COLDIGO || {};
COLDIGO.marca = new Object();

$(document).ready(function(){
	COLDIGO.marca.cadastrar = function(){
		var marca = new Object();
		marca.nome = document.frmAddMarca.nome.value;  // Nome do formulário correto

		console.log("aqui a marca " + marca.nome);

		if (marca.nome == "") {
			COLDIGO.exibirAviso("Preencha todos os campos!");
		} else {
			$.ajax({
				type: "POST",
				url: COLDIGO.PATH + "marca/inserir",
				data: JSON.stringify(marca),
				success: function(msg){
					COLDIGO.exibirAviso(msg);
					$("#addMarca").trigger("reset"); // Reset no formulário correto
				},
				error: function(info){
					COLDIGO.exibirAviso("Erro ao cadastrar uma nova marca: " + info.status + " - " + info.statusText);
				}
			});
		}
	};
	
	

	COLDIGO.marca.buscar = function() {
	    var valorBusca = $("#campoBuscaMarca").val();
	    $.ajax({
	        type: "GET",
	        url: COLDIGO.PATH + "produto/buscar",
	        data: "valorBusca=" + valorBusca,
	        success: function(dados) {
	            // Insira aqui a lógica para lidar com os dados recebidos
	            dados = JSON.parse(dados);
	            $("#listaProdutos").html(COLDIGO.produto.exibir(dados));
	        },
	        error: function(info) {
	            COLDIGO.exibirAviso("Erro ao consultar os contatos: " + info.status + " - " + info.statusText);
	        }
	    });
	};
}); 
